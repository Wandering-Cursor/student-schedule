import{d as _,y as L,o as t,a as d,w as a,z as m,t as p,u as f,h as v,v as h,c,F as k,i as y,b as r,l as B,_ as D,e as $,g as F,f as N,k as w}from"./index-CItw4miD.js";import{a as P}from"./index-CSv1uCaf.js";import{s as I,a as G}from"./index-wEU3o806.js";import{s as R}from"./index-BePn3lax.js";import{g as T}from"./schedule-gkitroyl.js";import{g as j}from"./datetime-CvHfTBNd.js";import{G as q}from"./GroupLink-C6vTCao7.js";import{V as x}from"./Variant-Cxq8psV2.js";import"./index-DLCBiqOO.js";import"./index-C2oE9Ibb.js";const z={key:1,class:"group-schedule"},E={class:"group-schedule-container"},M=_({__name:"CombinedScheduleItem",props:{schedule:{type:Object,required:!0}},setup(o){const s=e=>{e.endsWith("/")&&(e=e.slice(0,-1));const n=e.split("/");return n[n.length-1]};return(e,n)=>{const u=L("RouterLink"),g=B,i=I;return t(),d(i,null,{title:a(()=>[m(p(f(j)(o.schedule.for_date)),1)]),content:a(()=>[o.schedule.photo_schedules?(t(),d(u,{key:0,to:`/schedule/photo/${s(o.schedule.photo_schedules)}`},{default:a(()=>[v("h3",null,p(e.$t("schedule.photo")),1)]),_:1},8,["to"])):h("",!0),o.schedule.group_schedules?(t(),c("div",z,[m(p(e.$t("schedule.group"))+" ",1),v("div",E,[(t(!0),c(k,null,y(o.schedule.group_schedules,l=>(t(),d(i,{key:o.schedule.uuid},{content:a(()=>[r(q,{"group-i-d":l.group.uuid,"group-name":l.group.name,variant:f(x).P,class:"group-schedule-item-content"},null,8,["group-i-d","group-name","variant"])]),footer:a(()=>[r(g,{as:"router-link",label:e.$t("schedule.view"),to:`/schedule/group/${l.uuid}`,class:"group-schedule-item-content"},null,8,["label","to"])]),_:2},1024))),128))])])):h("",!0)]),_:1})}}}),O=D(M,[["__scopeId","data-v-33ce6066"]]),W=_({__name:"CombinedSchedule",setup(o){const s=$(!0),e=$(),n=F({page:1,forDate:void 0,dateTo:void 0,dateFrom:void 0});return N(async()=>{const u=await T(n);e.value=u.data.results,s.value=!1}),(u,g)=>{const i=R,l=G,b=P,C=w;return t(),c("main",null,[r(C,{header:u.$t("schedule.combined")},{default:a(()=>[s.value?(t(),d(i,{key:0,width:"100%",height:"50vh"})):h("",!0),s.value?h("",!0):(t(),d(b,{key:1,value:e.value,"data-key":"uuid",paginator:"",rows:5},{list:a(S=>[(t(!0),c(k,null,y(S.items,V=>(t(),c("div",null,[r(O,{schedule:V},null,8,["schedule"]),r(l)]))),256))]),_:1},8,["value"]))]),_:1},8,["header"])])}}}),A={class:"contained-wrapper"},oe=_({__name:"ScheduleView",setup(o){return(s,e)=>{const n=w;return t(),c("main",A,[r(n,{header:s.$t("schedule.title")},{default:a(()=>[m(p(s.$t("schedule.description")),1)]),_:1},8,["header"]),r(W)])}}});export{oe as default};
