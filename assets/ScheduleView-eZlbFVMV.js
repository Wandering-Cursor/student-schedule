import{d as g,y as L,o,a as l,w as s,z as _,t as i,u as m,h as f,v as p,c as n,F as $,i as k,b as a,l as B,_ as D,e as v,g as F,f as N,k as y}from"./index-C65pz5Po.js";import{a as P}from"./index-DrDNEaYb.js";import{s as I,a as G}from"./index-DnfH6OGd.js";import{s as R}from"./index-BoHbPudS.js";import{g as T}from"./schedule-nCNhaVc3.js";import{g as j}from"./datetime-CvHfTBNd.js";import{G as q}from"./GroupLink-DzGXik4i.js";import{V as x}from"./Variant-Cxq8psV2.js";import"./index-D1Ed30qR.js";import"./index-D6weiPAi.js";const z=e=>{e.endsWith("/")&&(e=e.slice(0,-1));const t=e.split("/");return t[t.length-1]},E={key:1,class:"group-schedule"},M={class:"group-schedule-container"},O=g({__name:"CombinedScheduleItem",props:{schedule:{type:Object,required:!0}},setup(e){return(t,d)=>{const r=L("RouterLink"),c=B,h=I;return o(),l(h,null,{title:s(()=>[_(i(m(j)(e.schedule.for_date)),1)]),content:s(()=>[e.schedule.photo_schedule?(o(),l(r,{key:0,to:`/schedule/photo/${m(z)(e.schedule.photo_schedule)}`},{default:s(()=>[f("h3",null,i(t.$t("schedule.photo")),1)]),_:1},8,["to"])):p("",!0),e.schedule.group_schedules?(o(),n("div",E,[_(i(t.$t("schedule.group"))+" ",1),f("div",M,[(o(!0),n($,null,k(e.schedule.group_schedules,u=>(o(),l(h,{key:e.schedule.uuid},{content:s(()=>[a(q,{"group-i-d":u.group.uuid,"group-name":u.group.name,variant:m(x).P,class:"group-schedule-item-content"},null,8,["group-i-d","group-name","variant"])]),footer:s(()=>[a(c,{as:"router-link",label:t.$t("schedule.view"),to:`/schedule/group/${u.uuid}`,class:"group-schedule-item-content"},null,8,["label","to"])]),_:2},1024))),128))])])):p("",!0)]),_:1})}}}),W=D(O,[["__scopeId","data-v-c6b1525e"]]),A=g({__name:"CombinedSchedule",setup(e){const t=v(!0),d=v(),r=F({page:1,forDate:void 0,dateTo:void 0,dateFrom:void 0});return N(async()=>{const c=await T(r);d.value=c.data.results,t.value=!1}),(c,h)=>{const u=R,b=G,w=P,C=y;return o(),n("main",null,[a(C,{header:c.$t("schedule.combined")},{default:s(()=>[t.value?(o(),l(u,{key:0,width:"100%",height:"50vh"})):p("",!0),t.value?p("",!0):(o(),l(w,{key:1,value:d.value,"data-key":"uuid",paginator:"",rows:5},{list:s(S=>[(o(!0),n($,null,k(S.items,V=>(o(),n("div",null,[a(W,{schedule:V},null,8,["schedule"]),a(b)]))),256))]),_:1},8,["value"]))]),_:1},8,["header"])])}}}),H={class:"contained-wrapper"},se=g({__name:"ScheduleView",setup(e){return(t,d)=>{const r=y;return o(),n("main",H,[a(r,{header:t.$t("schedule.title")},{default:s(()=>[_(i(t.$t("schedule.description")),1)]),_:1},8,["header"]),a(A)])}}});export{se as default};
