import{D as _,o as n,d,v as e,b as P,A as u,t as c,x as t,Y as x,H as B,X as V,E as p,a1 as C,a0 as L,c as m,z as N,F as T,$ as h}from"./index-NqJEu3WN.js";import{a as z,b as E}from"./index-C2lZOQfe.js";import{s as F,a as S}from"./index-1b4vLyRr.js";import{s as j}from"./index-ALlwIPRI.js";import{c as q}from"./datetime-CUQ1yG2p.js";import{_ as A,g as H}from"./info-qDN8R2Iy.js";import"./index-BtaWhPJ-.js";import"./index-Do2rhqhi.js";import"./index-BOY8GaAo.js";const M={class:"contained-wrapper"},O=_({__name:"InfoItem",props:{infoPage:{type:Object,required:!0}},setup(a){return(o,s)=>{const r=B,i=F;return n(),d(i,null,{title:e(()=>[P("div",M,[u(c(a.infoPage.title)+" ",1),t(A,{tags:a.infoPage.tags},null,8,["tags"])])]),subtitle:e(()=>[P("pre",null,c(a.infoPage.content.slice(0,25).concat("...")),1)]),content:e(()=>[t(r,{as:"router-link",to:{name:"info-detail",params:{id:a.infoPage.uuid}}},{default:e(()=>[u(c(o.$t("labels.view")),1)]),_:1},8,["to"])]),footer:e(()=>[u(c(x(q)(a.infoPage.created_at)),1)]),_:1})}}}),X=_({__name:"InfoList",setup(a){const o=V(),s=p(!1),r=p(0),i=p({count:0,next:null,previous:null,results:[]}),g=C({page:1});async function v(){s.value=!0;try{const l=await H(g);i.value=l.data}catch(l){o.add({severity:"error",summary:"labels.error",detail:`${l}`,life:5e3})}s.value=!1}return L(v),(l,$)=>{const w=j,y=S,k=z,b=E,D=h;return s.value?(n(),d(w,{key:0,height:"75vh",width:"100%"})):(n(),d(D,{key:1},{default:e(()=>[t(k,{"data-key":"uuid",value:i.value.results,rows:10},{list:e(f=>[(n(!0),m(T,null,N(f.items,I=>(n(),m("div",null,[t(O,{infoPage:I},null,8,["infoPage"]),t(y)]))),256))]),_:1},8,["value"]),t(b,{"total-records":i.value.count,rows:10,onPage:$[0]||($[0]=f=>{g.page=f.page+1,v()}),first:r.value},null,8,["total-records","first"])]),_:1}))}}}),Y={class:"contained-wrapper"},te=_({__name:"InfoView",setup(a){return(o,s)=>{const r=h;return n(),m("div",Y,[t(r,{header:o.$t("info.title")},{default:e(()=>[u(c(o.$t("info.description")),1)]),_:1},8,["header"]),t(X)])}}});export{te as default};
