import{d as _,p as L,o as t,c as d,w as a,l as m,t as p,u as f,k as v,b as h,a as c,F as k,g as w,e as r,s as B,_ as D,r as $,q as F,f as N,i as y}from"./index-CNgNu5iX.js";import{s as P}from"./index-pMnLEf1k.js";import{G as I,V as q,s as G,a as R}from"./GroupLink-DZb0FMn0.js";import{s as T}from"./index-DGU1K-P7.js";import{g as j}from"./schedule-BhY69FuU.js";import{g as x}from"./datetime-CvHfTBNd.js";import"./index-DGHkwIeT.js";import"./index-5R-A5Kp1.js";const E={key:1,class:"group-schedule"},M={class:"group-schedule-container"},O=_({__name:"CombinedScheduleItem",props:{schedule:{type:Object,required:!0}},setup(o){const s=e=>{e.endsWith("/")&&(e=e.slice(0,-1));const n=e.split("/");return n[n.length-1]};return(e,n)=>{const u=L("RouterLink"),g=B,i=G;return t(),d(i,null,{title:a(()=>[m(p(f(x)(o.schedule.for_date)),1)]),content:a(()=>[o.schedule.photo_schedules?(t(),d(u,{key:0,to:`/schedule/photo/${s(o.schedule.photo_schedules)}`},{default:a(()=>[v("h3",null,p(e.$t("schedule.photo")),1)]),_:1},8,["to"])):h("",!0),o.schedule.group_schedules?(t(),c("div",E,[m(p(e.$t("schedule.group"))+" ",1),v("div",M,[(t(!0),c(k,null,w(o.schedule.group_schedules,l=>(t(),d(i,{key:o.schedule.uuid},{content:a(()=>[r(I,{"group-i-d":l.group.uuid,"group-name":l.group.name,variant:f(q).P,class:"group-schedule-item-content"},null,8,["group-i-d","group-name","variant"])]),footer:a(()=>[r(g,{as:"router-link",label:e.$t("schedule.view"),to:`/schedule/group/${l.uuid}`,class:"group-schedule-item-content"},null,8,["label","to"])]),_:2},1024))),128))])])):h("",!0)]),_:1})}}}),W=D(O,[["__scopeId","data-v-33ce6066"]]),z=_({__name:"CombinedSchedule",setup(o){const s=$(!0),e=$(),n=F({page:1,forDate:void 0,dateTo:void 0,dateFrom:void 0});return N(async()=>{const u=await j(n);e.value=u.data.results,s.value=!1}),(u,g)=>{const i=T,l=R,b=P,C=y;return t(),c("main",null,[r(C,{header:u.$t("schedule.combined")},{default:a(()=>[s.value?(t(),d(i,{key:0,width:"100%",height:"50vh"})):h("",!0),s.value?h("",!0):(t(),d(b,{key:1,value:e.value,"data-key":"uuid",paginator:"",rows:5},{list:a(S=>[(t(!0),c(k,null,w(S.items,V=>(t(),c("div",null,[r(W,{schedule:V},null,8,["schedule"]),r(l)]))),256))]),_:1},8,["value"]))]),_:1},8,["header"])])}}}),A={class:"contained-wrapper"},ee=_({__name:"ScheduleView",setup(o){return(s,e)=>{const n=y;return t(),c("main",A,[r(n,{header:s.$t("schedule.title")},{default:a(()=>[m(p(s.$t("schedule.description")),1)]),_:1},8,["header"]),r(z)])}}});export{ee as default};
